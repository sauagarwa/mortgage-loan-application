apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mortgage-ai.fullname" . }}-secret
  labels:
    {{- include "mortgage-ai.labels" . | nindent 4 }}
type: Opaque
data:
  # Database environment variables
  POSTGRES_DB: {{ .Values.secrets.POSTGRES_DB | toString | b64enc | quote }}
  POSTGRES_USER: {{ .Values.secrets.POSTGRES_USER | toString | b64enc | quote }}
  POSTGRES_PASSWORD: {{ .Values.secrets.POSTGRES_PASSWORD | toString | b64enc | quote }}

  # API environment variables
  DATABASE_URL: {{ .Values.secrets.DATABASE_URL | toString | b64enc | quote }}
  DEBUG: {{ .Values.secrets.DEBUG | toString | b64enc | quote }}
  ALLOWED_HOSTS: {{ .Values.secrets.ALLOWED_HOSTS | toString | b64enc | quote }}

  # Redis
  REDIS_URL: {{ .Values.secrets.REDIS_URL | toString | b64enc | quote }}

  # MinIO
  MINIO_ENDPOINT: {{ .Values.secrets.MINIO_ENDPOINT | toString | b64enc | quote }}
  MINIO_ACCESS_KEY: {{ .Values.secrets.MINIO_ACCESS_KEY | toString | b64enc | quote }}
  MINIO_SECRET_KEY: {{ .Values.secrets.MINIO_SECRET_KEY | toString | b64enc | quote }}
  MINIO_BUCKET: {{ .Values.secrets.MINIO_BUCKET | toString | b64enc | quote }}

  # Keycloak
  KEYCLOAK_SERVER_URL: {{ .Values.secrets.KEYCLOAK_SERVER_URL | toString | b64enc | quote }}
  KEYCLOAK_REALM: {{ .Values.secrets.KEYCLOAK_REALM | toString | b64enc | quote }}
  KEYCLOAK_CLIENT_ID: {{ .Values.secrets.KEYCLOAK_CLIENT_ID | toString | b64enc | quote }}

  # LLM
  LLM_API_KEY: {{ .Values.secrets.LLM_API_KEY | toString | b64enc | quote }}
  LLM_PROVIDER: {{ .Values.secrets.LLM_PROVIDER | toString | b64enc | quote }}
  LLM_BASE_URL: {{ .Values.secrets.LLM_BASE_URL | toString | b64enc | quote }}
  LLM_MODEL: {{ .Values.secrets.LLM_MODEL | toString | b64enc | quote }}

  # UI environment variables
  VITE_API_BASE_URL: {{ .Values.secrets.VITE_API_BASE_URL | toString | b64enc | quote }}
  VITE_ENVIRONMENT: {{ .Values.secrets.VITE_ENVIRONMENT | toString | b64enc | quote }}
