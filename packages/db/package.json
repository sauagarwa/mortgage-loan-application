{
  "name": "@mortgage-ai/db",
  "private": true,
  "version": "0.0.0",
  "scripts": {
    "dev": "COMPOSE_FILE=$(cd ../../ && pwd)/compose.yml; CONTAINER_STARTED=0; if ! podman-compose -f $COMPOSE_FILE ps 2>/dev/null | grep -q mortgage-ai-db; then echo 'Starting database container...'; podman-compose -f $COMPOSE_FILE up -d mortgage-ai-db; CONTAINER_STARTED=1; else echo 'Database container is already running'; fi; cleanup() { if [ \"$$CONTAINER_STARTED\" = \"1\" ]; then echo 'Stopping database container...'; podman-compose -f $COMPOSE_FILE down mortgage-ai-db; fi; }; trap cleanup EXIT INT TERM; pnpm migrate && podman-compose -f $COMPOSE_FILE logs -f mortgage-ai-db",
    "db:start": "podman-compose -f $(cd ../../ && pwd)/compose.yml up -d mortgage-ai-db",
    "db:stop": "podman-compose -f $(cd ../../ && pwd)/compose.yml down mortgage-ai-db",
    "db:logs": "podman-compose -f $(cd ../../ && pwd)/compose.yml logs -f mortgage-ai-db",
    "migrate": "uv run alembic upgrade head",
    "migrate:down": "uv run alembic downgrade -1",
    "migrate:new": "uv run alembic revision --autogenerate",
    "migrate:history": "uv run alembic history",
    "migrate:current": "uv run alembic current",
    "install:deps": "uv sync",
    "seed": "uv run python -m seeds.seed_data"
  }
}
