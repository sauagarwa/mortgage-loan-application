---
description: "Core architecture and project structure for the AI quickstart monorepo"
alwaysApply: true
---

# Project Architecture

This is a **Turborepo monorepo** for building AI-powered applications with a React frontend, FastAPI backend, and PostgreSQL database.

## Technology Stack

| Layer | Technology | Purpose |
|-------|------------|---------|
| Build System | Turborepo | Monorepo task orchestration and caching |
| Frontend | React 19 + Vite | Modern UI with fast HMR |
| Routing | TanStack Router | Type-safe file-based routing |
| State | TanStack Query | Server state management and caching |
| Backend | FastAPI | Async Python API with OpenAPI docs |
| Database | PostgreSQL + SQLAlchemy | Async database with ORM |
| Migrations | Alembic | Database schema versioning |
| Styling | Tailwind CSS + shadcn/ui | Utility-first CSS with accessible components |

## Package Structure

```
ai-quickstart-template/
├── packages/
│   ├── ui/              # React frontend (pnpm)
│   ├── api/             # FastAPI backend (uv/Python)
│   ├── db/              # Database models & migrations (uv/Python)
│   └── configs/         # Shared ESLint, Prettier, Ruff configs
├── deploy/helm/         # Helm charts for OpenShift/Kubernetes
├── compose.yml          # Local development with containers
├── turbo.json           # Turborepo pipeline configuration
└── Makefile             # Common development commands
```

## Package Managers

- **Node.js packages** (ui, configs): Use `pnpm`
- **Python packages** (api, db): Use `uv` (fast Python package manager)
- **Root commands**: Use `make` or `pnpm` (which delegates to Turbo)

## Key Commands

```bash
# Setup
make setup              # Install all dependencies (Node + Python)

# Development
make dev                # Start all dev servers (UI + API)
make db-start           # Start PostgreSQL container
make db-upgrade         # Run database migrations

# Quality
make lint               # Run linters across all packages
make test               # Run tests across all packages
pnpm type-check         # TypeScript type checking

# Containers
make containers-build   # Build all container images
make containers-up      # Start all services via compose
```

## Development URLs

- **Frontend**: http://localhost:3000
- **API**: http://localhost:8000
- **API Docs**: http://localhost:8000/docs (Swagger UI)
- **Database**: postgresql://localhost:5432

## Inter-Package Dependencies

```
ui ──────► api (HTTP)
           │
           ▼
          db (Python import)
```

- The `ui` package calls the `api` via HTTP (configured via `VITE_API_BASE_URL`)
- The `api` package imports models from `db` as a Python dependency
- The `db` package is standalone and manages database connections/models

## Environment Configuration

- `.env` - Local development variables (gitignored)
- `.env.example` - Template for required environment variables
- Secrets in production managed via Helm values and OpenShift secrets
